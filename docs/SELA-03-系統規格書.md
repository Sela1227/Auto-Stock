# ğŸ“ˆ SELA ç³»çµ±è¦æ ¼æ›¸ï¼ˆç²¾ç°¡ç‰ˆï¼‰

> ç‰ˆæœ¬: 1.0  
> æœ€å¾Œæ›´æ–°: 2026-01-12  
> å®Œæ•´ç‰ˆæœ¬: stock-analysis-system-spec.md

---

## 1. å°ˆæ¡ˆæ¦‚è¿°

### 1.1 å°ˆæ¡ˆç›®æ¨™

å»ºç«‹ä¸€å€‹æ”¯æ´å¤šç”¨æˆ¶çš„è‚¡ç¥¨èˆ‡åŠ å¯†è²¨å¹£æŠ€è¡“åˆ†æå¹³å°ã€‚

### 1.2 æ ¸å¿ƒç‰¹è‰²

| ç‰¹è‰² | èªªæ˜ |
|------|------|
| å¤šç”¨æˆ¶æ”¯æ´ | LINE ç™»å…¥ï¼Œæ¯äººç¨ç«‹è¿½è¹¤æ¸…å–® |
| å…±äº«è³‡æ–™åº« | è‚¡åƒ¹è³‡æ–™å…±ç”¨ï¼Œæ¸›å°‘ API å‘¼å« |
| å½ˆæ€§æŒ‡æ¨™ | ç”¨æˆ¶å¯è‡ªé¸è¦é¡¯ç¤º/é€šçŸ¥çš„æŒ‡æ¨™ |
| æ™ºèƒ½é è­¦ | çªç ´ã€äº¤å‰ã€æ¥µç«¯å€¼è‡ªå‹•æ¨æ’­ |
| é›™å¸‚å ´ | åŒæ™‚æ”¯æ´ç¾è‚¡èˆ‡åŠ å¯†è²¨å¹£ |

### 1.3 æ”¯æ´è³‡ç”¢

| é¡å‹ | æ¨™çš„ |
|------|------|
| ç¾è‚¡ | æ‰€æœ‰ Yahoo Finance æ”¯æ´çš„è‚¡ç¥¨ä»£è™Ÿ |
| å°è‚¡ | Yahoo Finance å°è‚¡ (.TW / .TWO) |
| åŠ å¯†è²¨å¹£ | BTCï¼ˆæ¯”ç‰¹å¹£ï¼‰ã€ETHï¼ˆä»¥å¤ªå¹£ï¼‰ |

---

## 2. ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯ä»‹é¢                              â”‚
â”‚              (Web æ‡‰ç”¨ç¨‹å¼ / LINE Bot)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        API å±¤                                â”‚
â”‚    â”œâ”€ ç”¨æˆ¶é©—è­‰ (LINE Login)                                  â”‚
â”‚    â”œâ”€ è¿½è¹¤æ¸…å–®ç®¡ç†                                           â”‚
â”‚    â”œâ”€ è‚¡ç¥¨/å¹£åœˆæŸ¥è©¢                                          â”‚
â”‚    â””â”€ è¨­å®šç®¡ç†                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      å•†æ¥­é‚è¼¯å±¤                               â”‚
â”‚    â”œâ”€ æŠ€è¡“æŒ‡æ¨™è¨ˆç®—å¼•æ“                                        â”‚
â”‚    â”œâ”€ è¨Šè™Ÿåµæ¸¬å¼•æ“                                           â”‚
â”‚    â”œâ”€ ç¶œåˆè©•åˆ†ç³»çµ±                                           â”‚
â”‚    â””â”€ é€šçŸ¥æ’ç¨‹æœå‹™                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       å¿«å–å±¤                                  â”‚
â”‚    â””â”€ åˆ¤æ–·è®€å–æœ¬åœ°è³‡æ–™åº« æˆ– æŠ“å–å¤–éƒ¨ API                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      è³‡æ–™åº«å±¤                                 â”‚
â”‚    â”œâ”€ å…±äº«è³‡æ–™ (è‚¡åƒ¹ã€å¹£åƒ¹ã€æƒ…ç·’æŒ‡æ•¸)                          â”‚
â”‚    â””â”€ ç§æœ‰è³‡æ–™ (ç”¨æˆ¶ã€è¿½è¹¤æ¸…å–®ã€è¨­å®š)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    å¤–éƒ¨è³‡æ–™ä¾†æº                               â”‚
â”‚    â”œâ”€ Yahoo Finance (ç¾è‚¡/å°è‚¡)                              â”‚
â”‚    â”œâ”€ CoinGecko (åŠ å¯†è²¨å¹£)                                   â”‚
â”‚    â”œâ”€ CNN Fear & Greed (ç¾è‚¡æƒ…ç·’)                            â”‚
â”‚    â”œâ”€ Alternative.me (å¹£åœˆæƒ…ç·’)                              â”‚
â”‚    â””â”€ LINE Login API (ç”¨æˆ¶é©—è­‰)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. è³‡æ–™ä¾†æº

### 3.1 å¤–éƒ¨ API

| ä¾†æº | ç”¨é€” | å–å¾—æ–¹å¼ |
|------|------|----------|
| Yahoo Finance | ç¾è‚¡/å°è‚¡è‚¡åƒ¹ | yfinance Python å¥—ä»¶ |
| CoinGecko | BTC/ETH åƒ¹æ ¼ | å…è²»å…¬é–‹ API |
| CNN Fear & Greed | ç¾è‚¡å¸‚å ´æƒ…ç·’ | ç¶²é çˆ¬èŸ² æˆ– ç¬¬ä¸‰æ–¹ API |
| Alternative.me | å¹£åœˆæƒ…ç·’ | å…è²»å…¬é–‹ API |

### 3.2 è³‡æ–™æ›´æ–°ç­–ç•¥

| è³‡æ–™é¡å‹ | æ›´æ–°é »ç‡ | è§¸ç™¼æ–¹å¼ |
|----------|----------|----------|
| ç¾è‚¡è‚¡åƒ¹ | æ¯æ—¥ä¸€æ¬¡ | ç¾è‚¡æ”¶ç›¤å¾Œ (ç´„ UTC+8 05:00) |
| åŠ å¯†è²¨å¹£ | æ¯å°æ™‚ æˆ– æŸ¥è©¢æ™‚ | æ’ç¨‹ / ç”¨æˆ¶æŸ¥è©¢è§¸ç™¼ |
| æƒ…ç·’æŒ‡æ•¸ | æ¯æ—¥ä¸€æ¬¡ | æ’ç¨‹ä»»å‹™ |

---

## 4. è³‡æ–™åº«è¨­è¨ˆ

### 4.1 å…±äº«è³‡æ–™è¡¨

#### stock_pricesï¼ˆè‚¡ç¥¨åƒ¹æ ¼æ­·å²ï¼‰

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | INTEGER | ä¸»éµ |
| symbol | VARCHAR(10) | è‚¡ç¥¨ä»£è™Ÿ |
| date | DATE | äº¤æ˜“æ—¥æœŸ |
| open/high/low/close | DECIMAL(12,4) | OHLC åƒ¹æ ¼ |
| volume | BIGINT | æˆäº¤é‡ |
| updated_at | TIMESTAMP | è³‡æ–™æ›´æ–°æ™‚é–“ |

#### crypto_pricesï¼ˆåŠ å¯†è²¨å¹£åƒ¹æ ¼æ­·å²ï¼‰

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | INTEGER | ä¸»éµ |
| symbol | VARCHAR(10) | å¹£ç¨®ä»£è™Ÿ |
| date | DATE | æ—¥æœŸ |
| price | DECIMAL(18,8) | åƒ¹æ ¼ (USD) |
| volume_24h | DECIMAL(18,2) | 24 å°æ™‚æˆäº¤é‡ |
| market_cap | DECIMAL(18,2) | å¸‚å€¼ |

#### market_sentimentï¼ˆå¸‚å ´æƒ…ç·’æŒ‡æ•¸ï¼‰

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | INTEGER | ä¸»éµ |
| date | DATE | æ—¥æœŸ |
| market | VARCHAR(10) | stock / crypto |
| value | INTEGER | æŒ‡æ•¸å€¼ (0-100) |
| classification | VARCHAR(20) | æ–‡å­—åˆ†é¡ |

### 4.2 ç§æœ‰è³‡æ–™è¡¨

#### usersï¼ˆç”¨æˆ¶è³‡æ–™ï¼‰

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | INTEGER | ä¸»éµ |
| line_user_id | VARCHAR(50) | LINE å”¯ä¸€è­˜åˆ¥ç¢¼ |
| display_name | VARCHAR(100) | LINE é¡¯ç¤ºåç¨± |
| picture_url | VARCHAR(500) | LINE é ­åƒç¶²å€ |
| is_admin | BOOLEAN | æ˜¯å¦ç‚ºç®¡ç†å“¡ |
| created_at | TIMESTAMP | è¨»å†Šæ™‚é–“ |

#### watchlistsï¼ˆè¿½è¹¤æ¸…å–®ï¼‰

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| id | INTEGER | ä¸»éµ |
| user_id | INTEGER | ç”¨æˆ¶ ID (FK) |
| symbol | VARCHAR(10) | è‚¡ç¥¨/å¹£ç¨®ä»£è™Ÿ |
| asset_type | VARCHAR(10) | stock / crypto |
| note | VARCHAR(200) | è‡ªè¨‚å‚™è¨» |

#### user_indicator_settingsï¼ˆæŒ‡æ¨™é¡¯ç¤ºè¨­å®šï¼‰

| æ¬„ä½ | é¡å‹ | é è¨­å€¼ | èªªæ˜ |
|------|------|--------|------|
| user_id | INTEGER | - | ç”¨æˆ¶ ID (PK) |
| show_ma | BOOLEAN | true | é¡¯ç¤ºå‡ç·š |
| show_rsi | BOOLEAN | true | é¡¯ç¤º RSI |
| show_macd | BOOLEAN | true | é¡¯ç¤º MACD |
| show_kd | BOOLEAN | false | é¡¯ç¤º KD |
| show_bollinger | BOOLEAN | true | é¡¯ç¤ºå¸ƒæ—é€šé“ |
| show_obv | BOOLEAN | false | é¡¯ç¤º OBV |
| show_volume | BOOLEAN | true | é¡¯ç¤ºæˆäº¤é‡ |

#### user_alert_settingsï¼ˆé€šçŸ¥è¨­å®šï¼‰

| æ¬„ä½ | é¡å‹ | é è¨­å€¼ | èªªæ˜ |
|------|------|--------|------|
| user_id | INTEGER | - | ç”¨æˆ¶ ID (PK) |
| alert_ma_cross | BOOLEAN | true | å‡ç·šäº¤å‰é€šçŸ¥ |
| alert_ma_breakout | BOOLEAN | true | å‡ç·šçªç ´é€šçŸ¥ |
| alert_rsi | BOOLEAN | true | RSI è¶…è²·è¶…è³£é€šçŸ¥ |
| alert_macd | BOOLEAN | true | MACD äº¤å‰é€šçŸ¥ |
| alert_kd | BOOLEAN | false | KD äº¤å‰é€šçŸ¥ |
| alert_bollinger | BOOLEAN | false | å¸ƒæ—çªç ´é€šçŸ¥ |
| alert_volume | BOOLEAN | false | é‡èƒ½ç•°å¸¸é€šçŸ¥ |
| alert_sentiment | BOOLEAN | true | æƒ…ç·’æ¥µç«¯é€šçŸ¥ |

#### user_indicator_paramsï¼ˆæŒ‡æ¨™åƒæ•¸è¨­å®šï¼‰

| æ¬„ä½ | é¡å‹ | é è¨­å€¼ | èªªæ˜ |
|------|------|--------|------|
| ma_short | INTEGER | 20 | çŸ­å‡ç·šé€±æœŸ |
| ma_mid | INTEGER | 50 | ä¸­å‡ç·šé€±æœŸ |
| ma_long | INTEGER | 200 | é•·å‡ç·šé€±æœŸ |
| rsi_period | INTEGER | 14 | RSI é€±æœŸ |
| rsi_overbought | INTEGER | 70 | RSI è¶…è²·é–€æª» |
| rsi_oversold | INTEGER | 30 | RSI è¶…è³£é–€æª» |
| macd_fast | INTEGER | 12 | MACD å¿«ç·šé€±æœŸ |
| macd_slow | INTEGER | 26 | MACD æ…¢ç·šé€±æœŸ |
| macd_signal | INTEGER | 9 | MACD è¨Šè™Ÿç·šé€±æœŸ |
| kd_period | INTEGER | 9 | KD é€±æœŸ |
| bollinger_period | INTEGER | 20 | å¸ƒæ—é€šé“é€±æœŸ |
| bollinger_std | DECIMAL | 2.0 | å¸ƒæ—æ¨™æº–å·®å€æ•¸ |

---

## 5. æŠ€è¡“æŒ‡æ¨™

### 5.1 æ”¯æ´çš„æŠ€è¡“æŒ‡æ¨™

| æŒ‡æ¨™ | èªªæ˜ | åˆ¤è®€ |
|------|------|------|
| MA | ç§»å‹•å¹³å‡ç·š (20/50/200) | å¤šé ­/ç©ºé ­æ’åˆ—ã€é»ƒé‡‘/æ­»äº¡äº¤å‰ |
| RSI | ç›¸å°å¼·å¼±æŒ‡æ•¸ | >70 è¶…è²·ã€<30 è¶…è³£ |
| MACD | æŒ‡æ•¸å¹³æ»‘ç•°åŒç§»å‹•å¹³å‡ | é»ƒé‡‘/æ­»äº¡äº¤å‰ |
| KD | éš¨æ©ŸæŒ‡æ¨™ | >80 è¶…è²·ã€<20 è¶…è³£ |
| å¸ƒæ—é€šé“ | Bollinger Bands | çªç ´ä¸Š/ä¸‹è»Œ |
| OBV | èƒ½é‡æ½® | é‡åƒ¹èƒŒé›¢ |
| æˆäº¤é‡ | é‡æ¯”åˆ†æ | é‡èƒ½ç•°å¸¸ |

### 5.2 ç¶œåˆè©•åˆ†ç³»çµ±

| è¨Šè™Ÿ | åˆ†æ•¸ | èªªæ˜ |
|------|------|------|
| åƒ¹æ ¼ > MA20 | +1 | çŸ­æœŸå¤šé ­ |
| MA20 > MA50 | +1 | ä¸­æœŸå¤šé ­ |
| MA50 > MA200 | +1 | é•·æœŸå¤šé ­ |
| RSI è¶…è²· | -1 | å¯èƒ½å›èª¿ |
| RSI è¶…è³£ | +1 | å¯èƒ½åå½ˆ |
| MACD æ­£å€¼ | +1 | å¤šé ­å‹•èƒ½ |
| KD é»ƒé‡‘äº¤å‰ | +1 | çŸ­ç·šè²·è¨Š |

**è©•ç´šæ¨™æº–ï¼š**
- 3~4 åˆ†ï¼šå¼·å‹¢å¤šé ­
- 1~2 åˆ†ï¼šåå¤š
- 0 åˆ†ï¼šä¸­æ€§
- -1~-2 åˆ†ï¼šåç©º
- -3~-4 åˆ†ï¼šå¼·å‹¢ç©ºé ­

---

## 6. é€šçŸ¥é¡å‹

| alert_type | ä¸­æ–‡ | èªªæ˜ |
|------------|------|------|
| `ma_golden_cross` | å‡ç·šé»ƒé‡‘äº¤å‰ | MA20 ä¸Šç©¿ MA50 |
| `ma_death_cross` | å‡ç·šæ­»äº¡äº¤å‰ | MA20 ä¸‹ç©¿ MA50 |
| `approaching_breakout` | æ¥è¿‘å‘ä¸Šçªç ´ | åƒ¹æ ¼æ¥è¿‘é—œéµé˜»åŠ›ä½ |
| `approaching_breakdown` | æ¥è¿‘å‘ä¸‹è·Œç ´ | åƒ¹æ ¼æ¥è¿‘é—œéµæ”¯æ’ä½ |
| `rsi_overbought` | RSI è¶…è²· | RSI > 70 |
| `rsi_oversold` | RSI è¶…è³£ | RSI < 30 |
| `macd_golden_cross` | MACD é»ƒé‡‘äº¤å‰ | DIF ä¸Šç©¿ DEA |
| `macd_death_cross` | MACD æ­»äº¡äº¤å‰ | DIF ä¸‹ç©¿ DEA |
| `kd_golden_cross` | KD é»ƒé‡‘äº¤å‰ | K ä¸Šç©¿ D |
| `kd_death_cross` | KD æ­»äº¡äº¤å‰ | K ä¸‹ç©¿ D |
| `bollinger_breakout` | å¸ƒæ—ä¸Šè»Œçªç ´ | åƒ¹æ ¼çªç ´ä¸Šè»Œ |
| `bollinger_breakdown` | å¸ƒæ—ä¸‹è»Œè·Œç ´ | åƒ¹æ ¼è·Œç ´ä¸‹è»Œ |
| `volume_surge` | æˆäº¤é‡æš´å¢ | é‡æ¯” > 2.0 |
| `sentiment_extreme_fear` | æ¥µåº¦ææ‡¼ | æƒ…ç·’æŒ‡æ•¸ < 25 |
| `sentiment_extreme_greed` | æ¥µåº¦è²ªå©ª | æƒ…ç·’æŒ‡æ•¸ > 75 |

---

## 7. API è¨­è¨ˆ

### 7.1 ä¸»è¦ç«¯é»

| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| GET | `/api/stock/{symbol}` | æŸ¥è©¢è‚¡ç¥¨è©³æƒ… |
| GET | `/api/crypto/{symbol}` | æŸ¥è©¢åŠ å¯†è²¨å¹£è©³æƒ… |
| GET | `/api/watchlist` | å–å¾—è¿½è¹¤æ¸…å–® |
| POST | `/api/watchlist` | æ–°å¢è¿½è¹¤ |
| DELETE | `/api/watchlist/{id}` | ç§»é™¤è¿½è¹¤ |
| GET | `/api/watchlist/overview` | è¿½è¹¤æ¸…å–®ç¸½è¦½ |
| GET | `/api/sentiment` | å¸‚å ´æƒ…ç·’ |
| GET | `/api/settings/indicators` | å–å¾—æŒ‡æ¨™è¨­å®š |
| PUT | `/api/settings/indicators` | æ›´æ–°æŒ‡æ¨™è¨­å®š |
| GET | `/api/settings/alerts` | å–å¾—é€šçŸ¥è¨­å®š |
| PUT | `/api/settings/alerts` | æ›´æ–°é€šçŸ¥è¨­å®š |

### 7.2 å›æ‡‰æ ¼å¼

```json
{
  "success": true,
  "data": { ... },
  "message": "æ“ä½œæˆåŠŸ"
}
```

**éŒ¯èª¤æ ¼å¼ï¼š**

```json
{
  "success": false,
  "error": {
    "code": "INVALID_SYMBOL",
    "message": "æ‰¾ä¸åˆ°æ­¤è‚¡ç¥¨ä»£è™Ÿ"
  }
}
```

---

## 8. æŠ€è¡“é¸å‹

### 8.1 å¾Œç«¯

| é …ç›® | é¸æ“‡ | ç†ç”± |
|------|------|------|
| èªè¨€ | Python 3.10+ | è±å¯Œçš„é‡‘èåˆ†æå¥—ä»¶ |
| æ¡†æ¶ | FastAPI | ç¾ä»£ã€é«˜æ•ˆèƒ½ã€è‡ªå‹• API æ–‡ä»¶ |
| è³‡æ–™åº« | PostgreSQL | ç©©å®šã€æ”¯æ´å¤šç”¨æˆ¶ä½µç™¼ |
| ORM | SQLAlchemy | æˆç†Ÿç©©å®š |
| ä»»å‹™æ’ç¨‹ | APScheduler | å®šæ™‚æ›´æ–°è³‡æ–™ |

### 8.2 è³‡æ–™è™•ç†

| é …ç›® | å¥—ä»¶ |
|------|------|
| è‚¡åƒ¹æŠ“å– | yfinance |
| æ•¸æ“šè™•ç† | pandas, numpy |
| æŠ€è¡“æŒ‡æ¨™ | pandas-ta |
| åœ–è¡¨ç¹ªè£½ | matplotlib, mplfinance |

### 8.3 éƒ¨ç½²

| é …ç›® | å»ºè­°é¸é … |
|------|----------|
| ä¸»æ©Ÿ | Railway |
| è³‡æ–™åº« | Railway PostgreSQL |
| åŸŸå | Cloudflare |

---

## 9. å°ˆæ¡ˆç›®éŒ„çµæ§‹

```
sela-stock-analysis/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # FastAPI å…¥å£
â”‚   â”œâ”€â”€ config.py            # è¨­å®šæª”
â”‚   â”œâ”€â”€ database.py          # è³‡æ–™åº«é€£ç·š
â”‚   â”‚
â”‚   â”œâ”€â”€ models/              # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ watchlist.py
â”‚   â”‚   â”œâ”€â”€ stock_price.py
â”‚   â”‚   â”œâ”€â”€ crypto_price.py
â”‚   â”‚   â”œâ”€â”€ sentiment.py
â”‚   â”‚   â”œâ”€â”€ notification.py
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ portfolio.py     # æ–°å¢
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/             # Pydantic schemas
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ stock.py
â”‚   â”‚   â”œâ”€â”€ crypto.py
â”‚   â”‚   â””â”€â”€ settings.py
â”‚   â”‚
â”‚   â”œâ”€â”€ routers/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ stock.py
â”‚   â”‚   â”œâ”€â”€ crypto.py
â”‚   â”‚   â”œâ”€â”€ watchlist.py
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â””â”€â”€ portfolio.py     # æ–°å¢
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # å•†æ¥­é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ stock_service.py
â”‚   â”‚   â”œâ”€â”€ crypto_service.py
â”‚   â”‚   â”œâ”€â”€ indicator_service.py
â”‚   â”‚   â”œâ”€â”€ chart_service.py
â”‚   â”‚   â”œâ”€â”€ notification_service.py
â”‚   â”‚   â”œâ”€â”€ line_service.py
â”‚   â”‚   â”œâ”€â”€ price_cache_service.py
â”‚   â”‚   â””â”€â”€ portfolio_service.py  # æ–°å¢
â”‚   â”‚
â”‚   â”œâ”€â”€ data_sources/        # å¤–éƒ¨è³‡æ–™ä¾†æº
â”‚   â”‚   â”œâ”€â”€ yahoo_finance.py
â”‚   â”‚   â”œâ”€â”€ coingecko.py
â”‚   â”‚   â”œâ”€â”€ cnn_fear_greed.py
â”‚   â”‚   â””â”€â”€ alternative_me.py
â”‚   â”‚
â”‚   â””â”€â”€ tasks/               # æ’ç¨‹ä»»å‹™
â”‚       â”œâ”€â”€ update_prices.py
â”‚       â”œâ”€â”€ update_sentiment.py
â”‚       â””â”€â”€ check_alerts.py
â”‚
â”œâ”€â”€ static/                  # å‰ç«¯éœæ…‹æª”æ¡ˆ
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ main.css
â”‚   â”‚   â”œâ”€â”€ settings.css     # æ–°å¢
â”‚   â”‚   â””â”€â”€ portfolio.css    # æ–°å¢
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ main.js
â”‚   â”‚   â”œâ”€â”€ settings.js      # æ–°å¢
â”‚   â”‚   â”œâ”€â”€ portfolio.js     # æ–°å¢
â”‚   â”‚   â””â”€â”€ table-sort.js    # æ–°å¢
â”‚   â””â”€â”€ dashboard.html
â”‚
â”œâ”€â”€ tests/                   # æ¸¬è©¦
â”œâ”€â”€ migrations/              # è³‡æ–™åº«é·ç§»
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

---

## 10. ç’°å¢ƒè®Šæ•¸

```bash
# è³‡æ–™åº«
DATABASE_URL=postgresql://user:pass@host:5432/dbname

# LINE Login
LINE_LOGIN_CHANNEL_ID=your_channel_id
LINE_LOGIN_CHANNEL_SECRET=your_channel_secret
LINE_LOGIN_CALLBACK_URL=https://your-domain.com/auth/line/callback

# LINE Messaging
LINE_MESSAGING_CHANNEL_ACCESS_TOKEN=your_access_token

# JWT
JWT_SECRET_KEY=your_secret_key
JWT_EXPIRE_DAYS=7

# æ‡‰ç”¨ç¨‹å¼
APP_ENV=production
APP_DEBUG=false
```

---

## 11. å¸‚å ´æƒ…ç·’åˆ†ç´š

| æ•¸å€¼ | åˆ†é¡ | æ„ç¾© |
|------|------|------|
| 0-25 | æ¥µåº¦ææ‡¼ | å¯èƒ½è²·é» |
| 26-45 | ææ‡¼ | åè¬¹æ… |
| 46-55 | ä¸­æ€§ | è§€æœ› |
| 56-75 | è²ªå©ª | åæ¨‚è§€ |
| 76-100 | æ¥µåº¦è²ªå©ª | å¯èƒ½è³£é» |

---

> ğŸ’¡ å®Œæ•´æŠ€è¡“è¦æ ¼è«‹åƒè€ƒ `stock-analysis-system-spec.md`
