<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SELA 自動選股系統</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>
<body class="bg-gray-100">
    <!-- 載入畫面 -->
    <div id="loading-screen" class="fixed inset-0 bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center z-50">
        <div class="text-center">
            <img src="/static/logo.png" alt="SELA" class="w-24 h-24 mx-auto mb-4 rounded-xl">
            <p class="text-white text-lg">載入中...</p>
            <i class="fas fa-spinner fa-spin text-white text-2xl mt-4"></i>
        </div>
    </div>

    <!-- 主應用程式內容 -->
    <div id="app-content">
        
        <!-- 手機版側邊選單遮罩 -->
        <div id="sidebarOverlay" class="mobile-sidebar-overlay" onclick="closeMobileSidebar()"></div>
        
        <!-- 手機版側邊選單 (由 JS 生成) -->
        <aside id="mobileSidebar" class="mobile-sidebar"></aside>
        
        <!-- 頂部導覽列 -->
        <nav class="top-nav bg-white shadow-sm border-b">
            <div class="px-4 h-14 flex items-center justify-between">
                <button onclick="openMobileSidebar()" class="mobile-header-menu p-2 -ml-2 text-gray-600 touch-target">
                    <i class="fas fa-bars text-xl"></i>
                </button>
                <div class="flex items-center">
                    <img src="/static/logo.png" alt="SELA" class="w-8 h-8 rounded-lg mr-2">
                    <span class="font-bold text-lg text-gray-800 hidden sm:inline">自動選股系統</span>
                    <span class="font-bold text-lg text-gray-800 sm:hidden">SELA</span>
                </div>
                <div class="flex items-center space-x-2">
                    <span id="sessionTimer" class="text-xs text-gray-400 hidden sm:inline"></span>
                    <a id="adminLink" href="#" onclick="showSection('admin', event)" class="text-orange-500 hover:text-orange-600 hidden p-2" title="管理後台">
                        <i class="fas fa-user-shield"></i>
                    </a>
                    <span id="userName" class="text-gray-600 text-sm hidden md:inline"></span>
                    <img id="userAvatar" class="w-8 h-8 rounded-full" src="" alt="">
                    <button onclick="logout()" class="text-gray-500 hover:text-red-500 hidden sm:inline p-2" title="登出">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- 電腦版側邊欄 (由 JS 生成) -->
        <aside id="desktopSidebar" class="desktop-sidebar bg-white shadow-sm"></aside>

        <!-- 主區域 -->
        <main class="main-content">
            <!-- 所有 section 容器 (內容由 JS 動態載入) -->
            <section id="section-dashboard" class="section"></section>
            <section id="section-search" class="section hidden"></section>
            <section id="section-watchlist" class="section hidden"></section>
            <section id="section-sentiment" class="section hidden"></section>
            <section id="section-compare" class="section hidden"></section>
            <section id="section-portfolio" class="section hidden"></section>
            <section id="section-subscription" class="section hidden"></section>
            <section id="section-settings" class="section hidden"></section>
            <section id="section-cagr" class="section hidden"></section>
            <section id="section-admin" class="section hidden"></section>
        </main>

        <!-- 手機版底部導航列 (由 JS 生成) -->
        <nav id="mobileBottomNav" class="mobile-bottom-nav"></nav>

    </div><!-- end app-content -->

    <!-- Modal 容器 (由 modals.js 動態填充) -->
    <div id="modal-container"></div>

    <!-- JavaScript 模組 -->
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/core.js"></script>
    <script src="/static/js/layout.js"></script>
    <script src="/static/js/sections.js"></script>
    <script src="/static/js/modals.js"></script>
    <script src="/static/js/dashboard.js"></script>
    <script src="/static/js/search.js"></script>
    <script src="/static/js/tags.js"></script>
    <script src="/static/js/watchlist.js"></script>
    <script src="/static/js/portfolio.js"></script>
    <script src="/static/js/transaction.js"></script>
    <script src="/static/js/compare.js"></script>
    <script src="/static/js/returns.js"></script>
    <script src="/static/js/subscription.js"></script>
    <script src="/static/js/settings.js"></script>
    <script src="/static/js/cagr.js"></script>
    <script src="/static/js/admin.js"></script>
</body>
</html>
