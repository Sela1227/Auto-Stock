# 🔧 台股代號修復

## 問題

輸入台股代號（如 `0050`、`0056`）時，無法取得資料。

## 原因

Yahoo Finance 的台股代號需要加 `.TW` 後綴（如 `0050.TW`），但原本的程式沒有自動轉換。

## 修復內容

更新 `app/services/compare_service.py`：

- 新增 `_normalize_symbol()` 函數
- 自動偵測台股代號（4-6 位純數字）並加上 `.TW` 後綴
- 例如：`0050` → `0050.TW`

## 部署

將 `app/services/compare_service.py` 覆蓋到專案即可。

## 支援的代號格式

| 輸入 | 轉換後 | 說明 |
|------|--------|------|
| `0050` | `0050.TW` | 台股 ETF |
| `2330` | `2330.TW` | 台積電 |
| `AAPL` | `AAPL` | 美股（不變）|
| `BTC` | `BTC` | 加密貨幣（不變）|
| `^GSPC` | `^GSPC` | 指數（不變）|
| `0050.TW` | `0050.TW` | 已有後綴（不變）|
